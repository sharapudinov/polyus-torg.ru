{"version":3,"file":"item.min.js","sources":["item.js"],"names":["BX","namespace","Kanban","Item","options","type","isPlainObject","Error","this","Utils","isValidId","id","grid","columnId","layout","container","dragTarget","bodyContainer","dragElement","draggable","droppable","countable","data","Object","create","setOptions","prototype","getId","getColumnId","setColumnId","getColumn","getGrid","setGrid","Grid","setData","isBoolean","getData","isCountable","getGridData","renderLayout","getBodyContainer","cleanNode","appendChild","render","getContainer","attrs","className","data-id","data-type","children","getDragTarget","makeDraggable","makeDroppable","getDragElement","content","props","style","borderLeft","getColor","textContent","isDraggable","itemContainer","onbxdragstart","delegate","onDragStart","onbxdrag","onDrag","onbxdragstop","onDragStop","jsDD","registerObject","isDroppable","onbxdestdraghover","onDragEnter","onbxdestdraghout","onDragLeave","onbxdestdragfinish","onDragDrop","onbxdestdragstop","onItemDragEnd","registerDest","getDragMode","DragMode","ITEM","disableDropping","disableDragging","unregisterObject","enableDragging","disableDest","enableDropping","enableDest","classList","add","cloneNode","position","width","offsetWidth","document","body","onCustomEvent","x","y","remove","left","top","itemNode","draggableItem","getItemByElement","showDragTarget","offsetHeight","hideDragTarget","success","moveItem","height","removeProperty","DraftItem","apply","arguments","asyncEventStarted","draftContainer","draftTextArea","addToColumn","column","targetItem","Column","getItem","targetId","newItem","addItem","focusDraftTextArea","__proto__","constructor","getDraftTextArea","addCustomEvent","proxy","applyDraftEditMode","placeholder","message","events","blur","handleDraftTextAreaBlur","bind","keydown","handleDraftTextAreaKeyDown","title","util","trim","value","length","removeDraftItem","disabled","promise","getEventPromise","onItemAddedFulfilled","onItemAddedRejected","fulfill","result","getNextItemSibling","NONE","nextItem","error","removeCustomEvent","removeItem","focus","event","setTimeout","keyCode"],"mappings":"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"}